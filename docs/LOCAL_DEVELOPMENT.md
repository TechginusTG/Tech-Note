# 로컬 개발 환경 설정 가이드

이 문서는 새로운 개발자가 프로젝트 개발에 참여하기 위해 로컬 환경을 설정하는 방법을 안내합니다.

## 1. 개요

이 프로젝트는 프론트엔드(Next.js), 백엔드(Spring Boot), 그리고 데이터베이스(PostgreSQL)로 구성되어 있습니다.

로컬 개발 환경에서는 다음과 같이 각 파트를 실행합니다.

- **데이터베이스**: `podman`과 `compose.yml`을 사용하여 컨테이너로 실행합니다.
- **백엔드**: 로컬 머신에 설치된 Java/Spring Boot 환경에서 직접 실행합니다.
- **프론트엔드**: 로컬 머신에 설치된 Node.js/Next.js 환경에서 직접 실행합니다.

`podman`은 데이터베이스를 쉽고 일관성 있게 관리하기 위한 도구이며, 실제 애플리케이션 코드는 로컬에서 직접 실행하여 개발 편의성을 높이는 구조입니다.

## 2. 필수 설치 프로그램

개발을 시작하기 전에 다음 프로그램들이 설치되어 있어야 합니다.

- **Java 17**: 백엔드 애플리케이션 실행을 위해 필요합니다.
- **Node.js 18+**: 프론트엔드 애플리케이션 실행 및 의존성 관리를 위해 필요합니다.
- **Podman**: PostgreSQL 데이터베이스 컨테이너를 실행하기 위해 필요합니다.
- **Podman Compose**: `compose.yml` 파일을 사용하여 컨테이너를 관리하기 위해 필요합니다.

## 3. 환경 설정 단계

### 1단계: 프로젝트 복제

Git을 사용하여 프로젝트를 로컬 머신에 복제합니다.

```bash
git clone <저장소_URL>
cd Tech-Note
```

### 2단계: 데이터베이스 환경 변수 설정

프로젝트 최상위 디렉토리(root)에 `.env` 파일을 생성하고, 데이터베이스 접속 정보를 입력합니다. 이 파일의 내용은 `compose.yml`과 백엔드 애플리케이션에서 사용됩니다.

```env
# .env
POSTGRES_USER=admin
POSTGRES_PASSWORD=password
POSTGRES_DB=technote
```

**참고:** `.env` 파일은 `.gitignore`에 등록되어 있어 Git 저장소에 포함되지 않습니다.

### 3단계: 데이터베이스 실행

`podman-compose`를 사용하여 `compose.yml` 파일에 정의된 PostgreSQL 데이터베이스를 실행합니다.

```bash
# -d 옵션은 컨테이너를 백그라운드에서 실행합니다.
podman-compose up -d
```

데이터베이스가 정상적으로 실행되면, `devDB/` 디렉토리에 데이터 파일이 생성되는 것을 확인할 수 있습니다.

데이터베이스를 중지하고 싶을 때는 다음 명령어를 사용합니다.

```bash
podman-compose down
```

### 4단계: 백엔드 애플리케이션 실행

새로운 터미널을 열고 `backend` 디렉토리에서 Gradle을 사용하여 Spring Boot 애플리케이션을 실행합니다.

```bash
cd backend
./gradlew bootRun
```

애플리케이션이 정상적으로 실행되면 `localhost:8080`에서 API 서버가 활성화됩니다.

### 5단계: 프론트엔드 애플리케이션 실행

또 다른 터미널을 열고, 프로젝트 최상위 디렉토리에서 npm을 사용하여 Next.js 개발 서버를 실행합니다.

```bash
# 의존성 설치 (최초 한 번만 실행)
npm install

# 개발 서버 실행
npm run dev
```

개발 서버가 정상적으로 실행되면 `localhost:3000` 주소로 접속하여 웹 애플리케이션을 확인할 수 있습니다.

## 4. 전체 실행 및 중지

- **전체 서비스 시작**:
    1.  `podman-compose up -d` (데이터베이스)
    2.  `./gradlew bootRun` (백엔드)
    3.  `npm run dev` (프론트엔드)

- **전체 서비스 중지**:
    1.  각 터미널에서 `Ctrl + C`를 눌러 프론트엔드/백엔드 서버 중지
    2.  `podman-compose down` 명령어로 데이터베이스 컨테이너 중지

이제 모든 설정이 완료되었습니다. 즐거운 개발 되세요!
